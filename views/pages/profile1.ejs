<!DOCTYPE html>
<html lang="en">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../style/reset.css">
    <link rel="stylesheet" href="../style/base.css">
    <link rel="stylesheet" href="../style/layout.css">
    <link rel="stylesheet" href="../style/modules.css">
    <script src="https://kit.fontawesome.com/4fc1b5d5ea.js" crossorigin="anonymous"></script>
    <title>Trail Explorer</title>
    <base href='app.js'>
  </head>

  <body>
    <main>
      <%- include('../partials/header') %>
        <div id="user"><em>
            <span class="user-title">
              <%= userInfo.username %>
            </span>
          </em></div>
        <section id="upper-img">
          <%- include('../partials/navigation', {userInfo: userInfo.username}) %>
            <article class="dashboard">
              <p><i class="fas fa-hiking"></i>
                <%= completedHikes %> Completed Hikes
              </p>
            </article>
            <article class="dashboard">
              <p><i class="fas fa-tachometer-alt"></i>
                <%= milesHiked %> Total Miles Hiked
              </p>
            </article>
        </section>

        <!-- Search modal -->

        <div id="search-modal" class="modal">
          <div id="search-content" class="search-modal-content">
            <form action="/search" method="GET">
              <label>Search Location
                <input type="text" name="location" value="<%= userInfo.city %>, <%= userInfo.us_state %>" />
              </label><br>
              <input type="hidden" name="userInfo" value="<%= userInfo.username %>">
              <input type="submit" value="Search Now" class="modal-btn" />
            </form>
            <span class="close">&times;</span>
          </div>

        </div>

        <!-- Mileage modal -->

        <div id="mileage-modal" class="modal">
          <div id="mileage-content" class="mileage-modal-content">
            <h2><em>
                <%= userInfo.username %>
              </em></h2>
            <p>Based on your completed hikes, you have hiked a total of <%= milesHiked %> so far</p>
            <p>Your average hike distance is (calculated-average) miles</p>
            <p><em>Keep going!</em></p>
            <br />
            <span class="close">&times;</span>
          </div>

        </div>

        <div id="quote">
          <p><em>"After a dayâ€™s walk, everything has twice its usual value."</em> - G.M. Trevelyan</p>
        </div>
        <div id="search" class="nav-square search"><i class="fas fa-search-location center-icon"></i>
          <p class="icon-desc">Search</p>
        </div>
        <div id="mileage" class="nav-square"><i class="fas fa-tachometer-alt center-icon"></i>
          <p class="icon-desc">Miles Hiked</p>
        </div>
        <div id="favorites" class="nav-square">
          <a href="/favorites/<%= userInfo.username %>"><i class="fas fa-clipboard-list center-icon"></i></a>
          <p class="icon-desc">Favorites</p>
        </div>
        <div id="completed" class="nav-square">
          <a href="/completed/<%= userInfo.username %>"><i class="fas fa-check center-icon"></i></a>
          <p class="icon-desc">Completed</p>
        </div>
        <%- include('../partials/footer') %>
    </main>
    <script src="https://code.jquery.com/jquery-3.5.1.min.js"
      integrity="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0=" crossorigin="anonymous"></script>
    <script src="/app.js"></script>
  </body>

</html>